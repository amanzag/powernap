powernap (2.1) unreleased; urgency=low

  * UNRELEASED

 -- Dustin Kirkland <kirkland@ubuntu.com>  Fri, 21 Jan 2011 19:01:44 -0600

powernap (2.0-0ubuntu1) natty; urgency=low

  [ Andres Rodriguez ]
  * powernap/monitors: Re-work Monitors to integrate them with PowerNap.
  * powernap/powernap.py: Minor fixes to not crash when loading monitors.
  * sbin/powernapd: Integrate Monitors approach to work with Daemon.
  * Update copyright headers for some files
  * Update manpages and add one for powernap-action.
  * Update packaging:
    - debian/control: Add python related fileds.
    - debian/rules: Add dh_pycentral related rules.
  * Add new package to contain new modules and monitors:
    - debian/control: Add package powernap-common.
    - debian/powernap-common.install: Install new files (PowerNap class and
      Monitors); Move action scripts installation to this package.

 -- Dustin Kirkland <kirkland@ubuntu.com>  Fri, 21 Jan 2011 19:01:40 -0600

powernap (2.0) released; urgency=low

  [ Andres Rodriguez ]
  * powernap/monitors: Re-work Monitors to integrate them with PowerNap.
  * powernap/powernap.py: Minor fixes to not crash when loading monitors.
  * sbin/powernapd: Integrate Monitors approach to work with Daemon.
  * Update copyright headers for some files
  * Update manpages and add one for powernap-action.
  * Update packaging:
    - debian/control: Add python related fileds.
    - debian/rules: Add dh_pycentral related rules.
  * Add new package to contain new modules and monitors:
    - debian/control: Add package powernap-common.
    - debian/powernap-common.install: Install new files (PowerNap class and
      Monitors); Move action scripts installation to this package.
  * sbin/powernapd: Improve WoL monitor to listen in eth* interfaces.
  * config: Update and cleanup.
  * sbin/powernapd,bin/powerwake: Fix generation of WoL Magic Packet.
    Apparently, more data than required was addeed. (LP: #705943)

 -- Andres Rodriguez <andreserl@ubuntu.com>  Fri, 21 Jan 2011 15:53:11 -0500

powernap (1.12-0ubuntu1) natty; urgency=low

  [ Andres Rodriguez ]
  * Revert Adam changes to some files (rev148 - Original PowerNap behavior)
    - powernapd, powernapd.8, action, config.
  * Re-organize the source and update the packaging:
    - sbin: Moved powernap, powernapd, powernapd-now.
    - bin: Moved powerwake, powernap_calculator.
    - man: Moved manpages here.
    - debian/{powernap,powerwake}.install: Update accordingly.
    - debian/{powernap,powerwake}.manpages: Update accordingly.
    - powernap/monitors: Moved Adam's Monitors.
  * Add new powersave method, using pm-powersave:
    - actions/: Add a set of scripts to reduce power consumption
    - powernap-action: Add tool to enable/disable and list powersave actions.
    - debian/powernap.install: Install new files.
  * Provide ability to select a PowerNap method to perform.
    - config: Add config variable to select method.
    - powernap/{powernap,powernapd}: Make necessary changes.
  * Add WoL monitor to 'wake up' for when 'pm-powersave' action is taken.
    - sbin/powernapd: Add WoL Monitor.
    - sbin/powerna: Take pm-powersave action correctly.
  * Add class to handle config:
    - powernap/powernap.py: Add class that handles config and initialization
      of different monitors

 -- Dustin Kirkland <kirkland@ubuntu.com>  Tue, 11 Jan 2011 12:59:13 -0600

powernap (1.11-0ubuntu1) natty; urgency=low

  [ Adam Sutton ]
  * reworked config file and config file parsing
  * modularized the monitoring to a set of logical plugins
  * added a monitor on a UDP port for staying awake

  [ Nobuto MURATA ]
  * powerwake_completion: add bash completion from $HOME/.cache/ethers,
    LP: #675445
  * debian/powernap.upstart: fix LP: #598241 cannot enable Wake-on-LAN
    when ifconfig output is translated

  [ Dustin Kirkland ]
  * powerwake: test if home dir is writable (might not be, eg: www-data)

 -- Dustin Kirkland <kirkland@ubuntu.com>  Wed, 17 Nov 2010 17:15:25 -0600

powernap (1.10-0ubuntu1) maverick; urgency=low

  [ Nobuto MURATA ]
  * debian/powerwake.install, powerwake_completion: add bash completion
    for powerwake, LP: #551073

  [ Dustin Kirkland ]
  * powerwake: create the ~/.cache/ethers file, if it does not already
    exist, LP: #582381

 -- Dustin Kirkland <kirkland@ubuntu.com>  Tue, 18 May 2010 12:33:32 -0500

powernap (1.9-0ubuntu1) lucid; urgency=low

  * debian/powernap.upstart: fix LP: #531950
    - fix ethtool regex
    - allow for admin customized ethtool script, when powernap's
      is incorrect or undesired

 -- Dustin Kirkland <kirkland@ubuntu.com>  Thu, 04 Mar 2010 11:04:49 -0600

powernap (1.8-0ubuntu1) lucid; urgency=low

  * powerwake:
    - test ethers file for writability, LP: #458163
    - since non-priv users cannot write to globally cached ethers, support
      local user eth caches
  * powernap-now, debian/install:
    - add a powernap-now utility, for sending the 'now'
    signal to the daemon
  * debian/powernap.manpages, powernap-now.8:
    - add powernap-now manpages
  * debian/powernap.init, debian/powernap.upstart, debian/rules:
    - upstart-ify powernap

 -- Dustin Kirkland <kirkland@ubuntu.com>  Sat, 06 Feb 2010 22:34:34 -0600

powernap (1.7-0ubuntu1) karmic; urgency=low

  * debian/powernap.init: enable WoL at boot on interface(s) that support
    wake-on-lan, to ensure that a powernapping system can be awoken
    later, LP: #445950

 -- Dustin Kirkland <kirkland@ubuntu.com>  Wed, 19 Aug 2009 00:19:13 -0500

powernap (1.6-0ubuntu1) karmic; urgency=low

  [ Dan Nurmi ]
  * powerwake: add support for a broadcast argument, add getopt support

  [ Dustin Kirkland ]
  * powerwake.1: updated to handle Dan's extensions and new arguments
  * powernap_calculator, powernap_calculator.1: new script to help determine
    the expected power savings usings powernap in a cloud environment;
    manpage documentation added
  * debian/powernap.logrotate: rotate the powernap log
  * powernapd: overhaul powernap's logging using python's built-in logging
    functionality
  * debian/control: bump standards version

 -- Dustin Kirkland <kirkland@ubuntu.com>  Tue, 18 Aug 2009 19:12:43 -0500

powernap (1.5-0ubuntu1) karmic; urgency=low

  * powerwake: handle more gracefully the lack of an /etc/ethers file
  * powernapd: fix timestamp

 -- Dustin Kirkland <kirkland@ubuntu.com>  Fri, 10 Jul 2009 17:37:54 -0500

powernap (1.4-0ubuntu1) karmic; urgency=low

  * powerwake: maintain and use a cache of mac addresses, in
    /var/cache/powerwake/ethers; test is_mac() before adding to arp hash
  * debian/powerwake.dirs, debian/powerwake.install,
    debian/powerwake.postinst, debian/control: add a separate powerwake
    package
  * debian/manpages, debian/powerwake.manpages: added manpage debhelper
    files
  * debian/control: recommend ethtool, which might be necessary to enable
    wake-on-lan on your ethernet card, powernap depends on pm-utils
  * powernap -> powernapd, debian/init, debian/install: rename the python
    powernap daemon 'powernapd'
  * powernap.1 -> powernapd.8: renamed, note ethtool
  * powernap: new script that will either take a specified action, or
    run one of (pm-suspend, pm-hibernate, poweroff)
  * powernap.8: document new script
  * action: conffile describing what should go there
  * debian/init: drop stdout on 'now' status check
  * debian/*: use powernap.* and powerwake.* to remove any ambiguity
  * powernapd: look for activity on /dev/* consoles and in /proc/interrupts
    during the grace period, such that any activity will cancel the
    powernap operation
  * powerwake, powerwake.1: update to allow for static configuration
    override in /etc/ethers

 -- Dustin Kirkland <kirkland@ubuntu.com>  Thu, 09 Jul 2009 17:28:44 -0500

powernap (1.3-0ubuntu1) karmic; urgency=low

  * config: add default value statement to each item; add sane defaults;
    add grace period section
  * powernap: add a system-wide warning message using 'wall', and a grace
    seconds interval to cancel the operation of 60 seconds (by default);
    move to using global variables for options defined in the config file
  * debian/control: depend on bsdutils for 'wall' utility

 -- Dustin Kirkland <kirkland@ubuntu.com>  Mon, 29 Jun 2009 14:49:55 -0700

powernap (1.2-0ubuntu1) karmic; urgency=low

  * config, debian/control, powernap.1, powernap.py: lower the default
    polling period from 10 seconds to 1 second; polling /proc is cheap,
    and empirical testing has shown a negligible performance impact;
    add a note about DEBUG
  * powernap.py -> powernap:
    - abstract take_action() to a function, add a handler for --now
    - daemonize within the python script
    - eliminate the shell wrapper
    - log to /var/log/powernap.*
    - add signal handling for "now", USR1
  * powernap.1: add log files
  * debian/init: add 'now' action and signal passing
  * powerwake: initial cut at powerwake utility
  * powerwake.1: initial cut at powerwake documentation

 -- Dustin Kirkland <kirkland@ubuntu.com>  Fri, 26 Jun 2009 17:23:22 -0500

powernap (1.1-0ubuntu1) karmic; urgency=low

  * debian/copyright: updated for Ubuntu inclusion

 -- Dustin Kirkland <kirkland@ubuntu.com>  Fri, 12 Jun 2009 12:53:54 -0500

powernap (1.0-0ubuntu1) karmic; urgency=low

  [ Initial release ]
  * powernap: shell wrapper script
  * powernap.py: python daemon
  * config: global configuration file
  * powernap.1: manpage documentation

 -- Dustin Kirkland <kirkland@ubuntu.com>  Thu, 11 Jun 2009 17:30:16 -0500
